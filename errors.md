# Ошибки

## Ошибка аутентификации 401

В случае, если пользователь не прошел аутентификацию, сервер вернет ответ с кодом `401` Тело ответа и заголовки в этом
случае
_**должны**_ быть проигнорированы, так как они могут содержать некорректный формат. Запросы с кодом `401` должны быть
записаны
и отправлены на исправление.

## Ошибки валидации 422

Все запросы к API проходят валидацию. В случае, если запрос не прошел валидацию, сервер вернет ответ с кодом `422` и
телом в формате JSON, содержащим информацию об ошибках валидации.

``` json
{
  "message": "The given data was invalid.",
  "errors": {
    "email": [
      "The email field is required."
    ],
    "password": [
      "The password field is required."
    ]
  }
}
```

Обратите внимание, что в теле ответа содержится массив `errors`, в котором каждый ключ - это имя поля, а значение -
массив ошибок валидации для этого поля.

::: warning Внимание
Все запросы к системе должны быть записаны, чтобы можно было отследить и исправить ошибки валидации.
_**Система не будет**_ принимать запросы, которые не прошли валидацию.
:::

## Ошибка сервера 500

В случае, если сервер не смог обработать запрос, он вернет ответ с кодом `500`. Тело ответа и заголовки в этом случае
_**должны**_ быть проигнорированы, так как они могут содержать некорректный формат. Запросы с кодом `500` должны быть
записаны
и отправлены на исправление.

## Отсутствие данных 404

В случае, если сервер не смог найти запрашиваемые данные, он вернет ответ с кодом `404`. Тело ответа и заголовки в этом
случае _**должны**_ быть проигнорированы, так как они могут содержать некорректный формат. Запросы с кодом `404` должны
быть
записаны и отправлены на исправление.

## Успешный ответ 200

Успешный ответ сервера содержит код `200` и тело в формате JSON.
::: danger Внимание
В случае, если запрос вернул пустое тело, это означает, что запрос `не был обработан` и должен быть отправлен повторно.
Такие запросы _**должны**_ быть записаны и отправлены на исправление.
:::

## Исправление ошибок
Анализ ошибок на стороне сайт может быть выполнен только в случае предоставления полной информации об ошибке. А именно:
```
- Код ответа и тело ответа в случае ответа в формате JSON
- URL запроса
- Данные запроса
- Время запроса
```
::: details Пример
```
- Код ответа: 500 {errors: 'Image generation failed'}
- URL запроса: /api/products/edit/1222
- Данные запроса: {id: 1222, image: 'base64'}
- Время запроса: 2021-01-01 12:00:00
```
:::